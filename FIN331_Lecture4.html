<!DOCTYPE html>
<html lang="en"><head>
<script src="FIN331_Lecture4_files/libs/clipboard/clipboard.min.js"></script>
<script src="FIN331_Lecture4_files/libs/quarto-html/tabby.min.js"></script>
<script src="FIN331_Lecture4_files/libs/quarto-html/popper.min.js"></script>
<script src="FIN331_Lecture4_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="FIN331_Lecture4_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="FIN331_Lecture4_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="FIN331_Lecture4_files/libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.31">

  <meta name="author" content="Andrew Ainsworth">
  <title>Credit Risk</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="FIN331_Lecture4_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="FIN331_Lecture4_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
  </style>
  <link rel="stylesheet" href="FIN331_Lecture4_files/libs/revealjs/dist/theme/quarto-be67b0237b4eae55b0559c28b0abcf23.css">
  <link href="FIN331_Lecture4_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="FIN331_Lecture4_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="FIN331_Lecture4_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="FIN331_Lecture4_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="FIN331_Lecture4_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="FIN331_Lecture4_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Credit Risk</h1>
  <p class="subtitle">FIN 331 Lecture 4</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Andrew Ainsworth 
</div>
        <p class="quarto-title-affiliation">
            University of Wollongong
          </p>
    </div>
</div>

</section>
<section id="lecture-outline" class="slide level2">
<h2>Lecture outline</h2>
<ul>
<li>What is credit risk?</li>
<li>What factors influence the chance of default?</li>
<li>How should the interest rate on a loan be calculated?</li>
<li>How do measure the credit risk of a loan?</li>
<li>Why does diversification matter when considering the risk of a portfolio of loans?</li>
</ul>
<p><br>
</p>
<ul>
<li>Reading
<ul>
<li>Ch 10, 11</li>
</ul></li>
</ul>
</section>
<section id="what-is-credit-risk" class="slide level2">
<h2>What is credit risk?</h2>
<ul>
<li>Credit risk reflects the chance that that promised cash flows on a financial asset will not be fully paid</li>
<li>The principal that is loaned and the expected interest payments are at risk if a borrower defaults</li>
</ul>
<div class="fragment">
<ul>
<li>The financial assets held by banks provide
<ul>
<li>A fixed upside payoff of principal and interest payments that is expected to occur with high probability</li>
<li>Downside risk if a borrower defaults that is expected to occur with a much smaller probability</li>
</ul></li>
</ul>
</div>
<div class="fragment">
<ul>
<li>If a borrower defaults, the bank will no longer receive any interest payments and it could lose some or all of the principal if the bank cannot lay claim to some of the borrower’s assets through legal bankruptcy and insolvency proceedings</li>
<li>Banks need to screen and monitor borrowers to ensure that they lend to those with the highest probability of making interest payments and repaying the principal borrowed</li>
</ul>
</div>
</section>
<section id="what-is-credit-risk-1" class="slide level2">
<h2>What is credit risk?</h2>

<img data-src="banks-non-performing-assets-global.svg" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="types-of-loans-in-australia" class="slide level2">
<h2>Types of loans in Australia</h2>
<ul>
<li>Business loans
<ul>
<li>Maturity can vary greatly</li>
<li>Principal can vary greatly</li>
<li>Interest rate can be fixed or floating</li>
<li>Loan can be secured against collateral or unsecured
<ul>
<li>The lender has a claim on the collateral if the borrower defaults</li>
</ul></li>
<li>Loans can be syndicated where they are provided by a group of banks rather than a single lender</li>
<li>Loans can be a spot loan
<ul>
<li>The borrower uses the entire loan amount immediately</li>
</ul></li>
<li>Loans can be a line of credit
<ul>
<li>The lender provides a maximum amount and the borrower has the option to take down any amount up to the maximum at any time over the commitment period</li>
</ul></li>
<li>Loan terms can include covenants
<ul>
<li>Covenants restrict, or encourage, various actions to enhance the probability of repayment</li>
<li>Covenants can include limits on the type and amount of new debt, investments, and asset sales the borrower may undertake while the loan or bonds are outstanding</li>
<li>Financial covenants are also often imposed restricting changes in the borrower’s financial ratios such as its leverage ratio or current ratio</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="types-of-loans-in-australia-1" class="slide level2">
<h2>Types of loans in Australia</h2>
<ul>
<li>Real estate
<ul>
<li>Residential and investment</li>
<li>Interest rate can be fixed or floating
<ul>
<li>Majority are floating rate in Australia</li>
</ul></li>
<li>Generally for a 30-year term</li>
<li>These loans are secured against property</li>
<li>The loan size is limited as a proportion of valuation of the property
<ul>
<li>Loan to valuation ratio</li>
</ul></li>
</ul></li>
</ul>
<div class="fragment">
<ul>
<li>Personal loans
<ul>
<li>Car loans
<ul>
<li>Car acts as collateral</li>
<li>Interest rate type, maturity and principal all vary</li>
</ul></li>
<li>Credit card
<ul>
<li>Credit card is a revolving loan with no collateral</li>
<li>Interest rate is generally high</li>
</ul></li>
</ul></li>
</ul>
</div>
</section>
<section id="bank-lending-in-australia" class="slide level2">
<h2>Bank lending in Australia</h2>

<img data-src="FIN331_Lecture4_files/figure-revealjs/unnamed-chunk-1-1.png" width="960" class="r-stretch"></section>
<section id="interest-rates-by-loan-type" class="slide level2">
<h2>Interest rates by loan type</h2>

<img data-src="FIN331_Lecture4_files/figure-revealjs/unnamed-chunk-2-1.png" width="960" class="r-stretch"></section>
<section id="analyzing-credit-risk" class="slide level2">
<h2>Analyzing credit risk</h2>
<ul>
<li>Banks needs to measure the probability of borrower default
<ul>
<li>The ability to do this depends largely on the amount of information the bank has about the borrower</li>
<li>Information on retail borrowers is collected internally or purchased from external credit agencies</li>
<li>Information on business borrowers can be sourced from publicly available information, such as certified accounting statements, stock and bond prices, and equity analysts’ reports, in addition to internal information</li>
</ul></li>
</ul>
<div class="fragment">
<ul>
<li>The <em>Five Cs of Credit</em> can be used to analyse credit risk
<ul>
<li>Character: Probability that the loan applicant will try to honour the loan obligations</li>
<li>Capacity: Subjective judgment regarding the applicant’s ability to pay according to the terms of the loan</li>
<li>Collateral: Assets that the loan applicant offers as security backing the loan</li>
<li>Conditions: General economic trends or special developments in certain geographic regions or sectors of the economy that might affect the applicant’s ability to meet the loan obligations</li>
<li>Capital: General financial condition of the applicant as indicated by an analysis of the applicant’s financial statements and his or her leverage</li>
</ul></li>
</ul>
</div>
</section>
<section id="analyzing-credit-risk-1" class="slide level2">
<h2>Analyzing credit risk</h2>
<ul>
<li>Borrower-specific factors
<ul>
<li>Loan to valuation ratio (LVR)</li>
<li>Cash-flow (ability to service the loan)</li>
<li>Assets</li>
<li>Age</li>
<li>Occupation</li>
<li>Leverage (debt/equity)</li>
<li>Collateral (secured vs unsecured)</li>
<li>Volatility of earnings</li>
<li>Reputation</li>
<li>Financial ratios (e.g.&nbsp;liquidity ratios, debt and solvency ratios, profitability ratios)</li>
</ul></li>
<li>Market-specific factors
<ul>
<li>The stage of the business cycle</li>
<li>The level of interest rates</li>
</ul></li>
</ul>
</section>
<section id="calculating-the-return-on-a-loan" class="slide level2">
<h2>Calculating the return on a loan</h2>
<ul>
<li>The promised return a bank receives on a loan is driven by a number of factors
<ul>
<li>Interest rate</li>
<li>Fees</li>
<li>Credit risk premium</li>
<li>Collateral backing</li>
</ul></li>
</ul>
<div class="fragment">
<ul>
<li>The contractually promised gross return on the loan</li>
</ul>
<p><span class="math display">\[(1+k) = [1 + of +(BR + \varphi)]\]</span></p>
<ul>
<li>where
<ul>
<li><span class="math inline">\(BR\)</span> is the base lending rate and reflects the bank’s weighted-average cost of capital or its marginal cost of funds</li>
<li><span class="math inline">\(\varphi\)</span> is the credit risk premium charged on the loan</li>
<li><span class="math inline">\(of\)</span> is a loan origination fee paid by the borrower</li>
</ul></li>
</ul>
</div>
</section>
<section id="calculating-the-return-on-a-loan-1" class="slide level2">
<h2>Calculating the return on a loan</h2>
<ul>
<li>The expected return <span class="math inline">\([E(R)]\)</span> on a loan needs to take into account the probability that the borrower will not repay the loan
<ul>
<li><span class="math inline">\(p\)</span> is the probability that the loan is repaid in full</li>
<li><span class="math inline">\((1-p)\)</span> is the chance that the lender will receive no repayment (i.e.&nbsp;default)</li>
</ul></li>
</ul>
<p><span class="math display">\[
\begin{align}
1+E(r) &amp;=p(1+k)+(1-p)0 \\[3 px]
E(r)  &amp;= p(1+k) - 1
\end{align}
\]</span></p>
<div class="fragment">
<ul>
<li>If <span class="math inline">\(p&lt;1\)</span> then default risk is present</li>
<li>The bank must set the risk premium <span class="math inline">\((\varphi)\)</span> sufficiently high to compensate for this risk</li>
<li>Setting high-risk premiums <span class="math inline">\((\varphi)\)</span> can reduce the probability of repayment <span class="math inline">\((p)\)</span>
<ul>
<li><span class="math inline">\(k\)</span> and <span class="math inline">\(p\)</span> are not independent</li>
</ul></li>
<li>Banks can control for credit risk through the interest rate charged on the loan or the size of the loan</li>
</ul>
</div>
</section>
<section id="calculating-the-return-on-a-loan-2" class="slide level2">
<h2>Calculating the return on a loan</h2>
<ul>
<li>Retail borrowers
<ul>
<li>If granted credit, they are generally charged the same rate of interest irrespective of credit risk</li>
<li>Credit rationing is more likely where the amount of credit extended is limited</li>
</ul></li>
</ul>
<div class="fragment">
<ul>
<li>Wholesale borrowers
<ul>
<li>Interest rate charged on a loan will incorporate credit risk
<ul>
<li>Different interest rates are charged across borrowers</li>
</ul></li>
<li>Credit rationing also applied</li>
</ul></li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Higher interest rates reflect a higher credit risk premium and compensate the lender for the higher probability of default
<ul>
<li>Low risk borrowers will not borrow at high interest rates</li>
<li>Only riskier borrowers will be willing to borrow at high interest rates</li>
</ul></li>
<li>High contractual interest rates can reduce the expected return on a loan because they incentivise the borrower to invest in risky projects</li>
<li>Increasing interest rates <span class="math inline">\((k)\)</span> may decrease the probability <span class="math inline">\((p)\)</span> that a borrower will pay the promised return</li>
</ul>
</div>
</section>
<section id="calculating-the-return-on-a-loan-3" class="slide level2">
<h2>Calculating the return on a loan</h2>
<!-- insert inverse hump shape figure of expected return vs interest rate -->
</section>
<section id="estimating-default-risk" class="slide level2">
<h2>Estimating default risk</h2>
<ul>
<li>Credit scoring models use observed borrower characteristics to calculate a score that is designed to measure the borrower’s default risk</li>
<li>These models can help
<ul>
<li>Identify the factors that predict default risk</li>
<li>Evaluate the relative importance of these factors</li>
<li>Improve the pricing of default risk</li>
<li>Screen out bad loan applicants</li>
</ul></li>
<li>Credit scoring models include these three broad types
<ul>
<li>Linear probability models</li>
<li>Logit models</li>
<li>Linear discriminant analysis</li>
</ul></li>
</ul>
</section>
<section id="estimating-default-risk-1" class="slide level2">
<h2>Estimating default risk</h2>
<ul>
<li>Linear probability models (and logit models) use regression techniques (linear or logit) to identify which variables <span class="math inline">\((X)\)</span> help to explain whether a borrower did, or did not, default
<ul>
<li>where <span class="math inline">\(PD_i\)</span> takes a value of 1 for defaults and zero for non-defaults for borrower <span class="math inline">\(i\)</span></li>
<li><span class="math inline">\(\beta_j\)</span> represents the sensitivity of default to variable <span class="math inline">\(j\)</span></li>
<li><span class="math inline">\(X_{ij}\)</span> is the observations on the <span class="math inline">\(j\)</span> for each of the <span class="math inline">\(i\)</span> borrowers</li>
</ul></li>
</ul>
<p><span class="math display">\[PD_i =\sum_{j=1}^n \beta_j X_{ij} + \varepsilon_i\]</span></p>
<div class="fragment">
<ul>
<li>Banks can use the estimated coefficients <span class="math inline">\((\beta_j)\)</span> and the value of the variables <span class="math inline">\((X_{ij})\)</span> for a prospective borrower to determine their credit risk</li>
<li>This value can be interpreted as the expected probability of default for the borrower: <span class="math inline">\(E(PD_i) = (1-p_i)\)</span></li>
<li>The logit model is preferred to the linear probability model as it ensures the default probabilities lie between 0 and 1</li>
</ul>
</div>
</section>
<section id="estimating-default-risk-2" class="slide level2">
<h2>Estimating default risk</h2>
<ul>
<li>Linear discriminant models use past data to explain repayment experience on old loans</li>
<li>Altman’ Z-score model examines publicly traded manufacturing firms in the United States to estimate a measure of default risk</li>
</ul>
<p><span class="math display">\[Z = 1.2 X_1 + 1.4 X_2 + 3.3 X_3 + 0.6 X_4 + 1.0 X_5 \]</span></p>
<ul>
<li><span class="math inline">\(X_1\)</span>: working capital / total assets ratio</li>
<li><span class="math inline">\(X_2\)</span>: retained earnings / total assets ratio</li>
<li><span class="math inline">\(X_3\)</span>: earnings before interest and taxes / total assets ratio</li>
<li><span class="math inline">\(X_4\)</span>: market value of equity / book value of total liabilities</li>
<li><span class="math inline">\(X_5\)</span>: sales / total assets ratio</li>
</ul>
<p><br>
</p>
<ul>
<li>A Z-score of less than 1.81 is a high default risk firm</li>
<li>A Z-score greater than 2.99 is a low default risk firm</li>
</ul>
</section>
<section id="problems-with-these-models" class="slide level2">
<h2>Problems with these models</h2>
<ol type="1">
<li>These models usually discriminate only between two extreme cases of borrower behaviour: no default and default
<ul>
<li>There are different degrees of default from non-payment or delay of interest payments (non-performing assets) to outright default on all promised interest and principal payments</li>
</ul></li>
<li>The weights in the discriminant function are not expected to remain constant
<ul>
<li>Discrimination analysis models are sensitive to the weights for the different variables</li>
<li>These models will differ across industries</li>
<li>The factors are also assumed to be independent</li>
</ul></li>
<li>These models ignore important, hard-to-quantify factors that may play a crucial role in the default or no default decision
<ul>
<li>Reputation of the borrower</li>
<li>Macroeconomic factors</li>
</ul></li>
</ol>
</section>
<section id="market-based-measure-of-credit-risk" class="slide level2">
<h2>Market-based measure of credit risk</h2>
<ul>
<li>Examine difference in yields of corporate bonds and government bonds to infer probability of default
<ul>
<li>Corporate bonds have different credit ratings issued by ratings agencies (e.g.&nbsp;Moody’s, Standard and Poor’s)</li>
</ul></li>
<li>Consider a one-year government bond yielding <span class="math inline">\(i\)</span> and a corporate bond yielding <span class="math inline">\(k\)</span> and a probability of default of <span class="math inline">\((1-p)\)</span></li>
<li>An investor is indifferent between these two bonds if</li>
</ul>
<p><span class="math display">\[p(1+k) = 1+i\]</span></p>
<ul>
<li>We can infer the probability of default as</li>
</ul>
<p><span class="math display">\[(1-p) = 1 - \frac{1+i}{1+k}\]</span></p>
</section>
<section id="market-based-measure-of-credit-risk-1" class="slide level2">
<h2>Market-based measure of credit risk</h2>
<ul>
<li>We can also consider the the recovery rate <span class="math inline">\((\gamma)\)</span> if the loan defaults</li>
</ul>
<p><span class="math display">\[[(1-p)\gamma(1+k)] + [p(1+k)] = 1+i\]</span></p>
<ul>
<li>If the loan has collateral backing <span class="math inline">\((\gamma &gt;0)\)</span> then the required risk premium on the loan is lower
<ul>
<li>Collateral requirements are a method of controlling default risk</li>
</ul></li>
</ul>
<div class="fragment">
<ul>
<li>The risk premium <span class="math inline">\((\varphi)\)</span> is the difference between <span class="math inline">\(k\)</span> and <span class="math inline">\(i\)</span></li>
</ul>
<p><span class="math display">\[k-i = \varphi = \frac{(1+i)}{(\gamma + p - p \gamma)} - (1+i)\]</span></p>
<ul>
<li><span class="math inline">\(\gamma\)</span> and <span class="math inline">\(p\)</span> are perfect substitutes</li>
<li>Collateral effectively reduces the loss given default</li>
</ul>
</div>
</section>
<section id="loan-portfolio-diversification" class="slide level2">
<h2>Loan portfolio diversification</h2>
<ul>
<li>Banks need to consider the risk of their loan portfolio, in addition to the risk of individual loans
<ul>
<li>Systematic, rather than idiosyncratic, risk factors cause material loan losses for banks</li>
</ul></li>
<li>Banks can impose concentration limits
<ul>
<li>Set maximum lending to individual borrowers, sector or geographical area</li>
</ul></li>
</ul>
<div class="fragment">
<ul>
<li>Banks can track credit ratings of certain pools of loans using a loan migration matrix
<ul>
<li>A loan migration matrix (or transition matrix) seeks to reflect the historic experience of a pool of loans in terms of their credit rating migration over time</li>
<li>Credit rating agencies, such as <a href="https://www.spglobal.com/ratings/en/regulatory/article/-/view/sourceId/504352" target="_blank">Standard and Poor’s</a> and <a href="https://www.moodys.com/web/en/us/solutions/ratings/understanding-ratings.html" target="_blank">Moody’s</a> provide credit ratings on bonds and companies</li>
<li>These ratings capture the creditworthiness of the bond issuer ranging from AAA to D (default)</li>
<li>If the credit ratings of a number of firms in a sector or rating class decline faster than has been historically experienced, banks can reduce their lending to that sector</li>
</ul></li>
</ul>
</div>
</section>
<section id="loan-portfolio-diversification-1" class="slide level2">
<h2>Loan portfolio diversification</h2>
<ul>
<li>The transition probabilities reflect the average proportions of loans experiencing upgrades or downgrades for that rating</li>
</ul>
<p><br>
</p>
<div class="cell">
<div class="cell-output-display">
<div id="rat" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
#rat table {
  font-family: Montserrat, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#rat thead, #rat tbody, #rat tfoot, #rat tr, #rat td, #rat th {
  border-style: none;
}

#rat p {
  margin: 0;
  padding: 0;
}

#rat .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #0B1554;
  font-size: 24px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#rat .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#rat .gt_title {
  color: #0B1554;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#rat .gt_subtitle {
  color: #0B1554;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#rat .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#rat .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rat .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#rat .gt_col_heading {
  color: #0B1554;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#rat .gt_column_spanner_outer {
  color: #0B1554;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#rat .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#rat .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#rat .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#rat .gt_spanner_row {
  border-bottom-style: hidden;
}

#rat .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #0B1554;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#rat .gt_empty_group_heading {
  padding: 0.5px;
  color: #0B1554;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#rat .gt_from_md > :first-child {
  margin-top: 0;
}

#rat .gt_from_md > :last-child {
  margin-bottom: 0;
}

#rat .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: none;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#rat .gt_stub {
  color: #0B1554;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#rat .gt_stub_row_group {
  color: #0B1554;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#rat .gt_row_group_first td {
  border-top-width: 2px;
}

#rat .gt_row_group_first th {
  border-top-width: 2px;
}

#rat .gt_summary_row {
  color: #0B1554;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#rat .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#rat .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#rat .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rat .gt_grand_summary_row {
  color: #0B1554;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#rat .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#rat .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#rat .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#rat .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rat .gt_footnotes {
  color: #0B1554;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#rat .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#rat .gt_sourcenotes {
  color: #0B1554;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#rat .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#rat .gt_left {
  text-align: left;
}

#rat .gt_center {
  text-align: center;
}

#rat .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#rat .gt_font_normal {
  font-weight: normal;
}

#rat .gt_font_bold {
  font-weight: bold;
}

#rat .gt_font_italic {
  font-style: italic;
}

#rat .gt_super {
  font-size: 65%;
}

#rat .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#rat .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#rat .gt_indent_1 {
  text-indent: 5px;
}

#rat .gt_indent_2 {
  text-indent: 10px;
}

#rat .gt_indent_3 {
  text-indent: 15px;
}

#rat .gt_indent_4 {
  text-indent: 20px;
}

#rat .gt_indent_5 {
  text-indent: 25px;
}

#rat .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#rat div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_col_headings gt_spanner_row">
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="2" colspan="1" style="border-top-width: 2px; border-top-style: solid; border-top-color: #0b1554; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #0b1554;" scope="col" id="cr">Credit Rating at Start of Year</th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="4" style="border-top-width: 2px; border-top-style: solid; border-top-color: #0b1554; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #0b1554;" scope="colgroup" id="Credit Rating at End of Year">
        <div class="gt_column_spanner">Credit Rating at End of Year</div>
      </th>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" style="border-top-width: 2px; border-top-style: solid; border-top-color: #0b1554; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #0b1554;" scope="col" id="a"><span data-qmd-base64="QUFBIC0gQQ=="><span class="gt_from_md">AAA - A</span></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" style="border-top-width: 2px; border-top-style: solid; border-top-color: #0b1554; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #0b1554;" scope="col" id="b"><span data-qmd-base64="QkJCIC0gQg=="><span class="gt_from_md">BBB - B</span></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" style="border-top-width: 2px; border-top-style: solid; border-top-color: #0b1554; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #0b1554;" scope="col" id="c"><span data-qmd-base64="Q0NDIC0gQw=="><span class="gt_from_md">CCC - C</span></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" style="border-top-width: 2px; border-top-style: solid; border-top-color: #0b1554; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #0b1554;" scope="col" id="d"><span data-qmd-base64="RA=="><span class="gt_from_md">D</span></span></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="cr" class="gt_row gt_center">AAA - A</td>
<td headers="a" class="gt_row gt_center">0.88</td>
<td headers="b" class="gt_row gt_center">0.09</td>
<td headers="c" class="gt_row gt_center">0.02</td>
<td headers="d" class="gt_row gt_center">0.01</td></tr>
    <tr><td headers="cr" class="gt_row gt_center">BBB - B</td>
<td headers="a" class="gt_row gt_center">0.08</td>
<td headers="b" class="gt_row gt_center">0.83</td>
<td headers="c" class="gt_row gt_center">0.06</td>
<td headers="d" class="gt_row gt_center">0.03</td></tr>
    <tr><td headers="cr" class="gt_row gt_center" style="border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #0b1554;">CCC - C</td>
<td headers="a" class="gt_row gt_center" style="border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #0b1554;">0.02</td>
<td headers="b" class="gt_row gt_center" style="border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #0b1554;">0.14</td>
<td headers="c" class="gt_row gt_center" style="border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #0b1554;">0.78</td>
<td headers="d" class="gt_row gt_center" style="border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: #0b1554;">0.06</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</section>
<section id="loan-portfolio-diversification-2" class="slide level2">
<h2>Loan portfolio diversification</h2>
<ul>
<li>Expected return on an <em>n</em>-security portfolio</li>
</ul>
<p><span class="math display">\[
\begin{align}
  E(R_p)  &amp;= w_1 E(R_1) + w_2 E(R_2) + ... + w_n E(R_n) \\[3px]
          &amp;= \sum_{i=1}^{n}{w_i E(R_i)}
\end{align}
\]</span></p>
<ul>
<li>Variance of portfolio returns:</li>
</ul>
<p><span class="math display">\[
\begin{align}
\sigma_p^2 &amp;= \sum_{i=1}^{n} \sum_{j=1}^{n} w_i w_j \sigma_{ij} \\
&amp;= \sum_{i=1}^{n} \sum_{j=1}^{n} w_i w_j \rho_{ij} \sigma_i \sigma_j
\end{align}
\]</span></p>
<ul>
<li>Banks can diversify some of their credit risk if correlations between default risk adjusted returns is less than 1</li>
</ul>
</section>
<section id="moodys-analytics-riskfrontier-model" class="slide level2">
<h2>Moody’s Analytics RiskFrontier Model</h2>
<ul>
<li>Moody’s has developed a proprietary model to estimate the risk and return of infrequently traded loans to input into portfolio theory</li>
<li>The model uses the default probability on each loan in a portfolio to identify the overall risk of the portfolio</li>
<li>The expected loss on a loan <span class="math inline">\(E(L_i)\)</span> is driven by changes in the borrower’s credit quality (expected default frequency <span class="math inline">\((EDF)\)</span>) and the amount of the loan not recovered (loss given default <span class="math inline">\((LGD)\)</span>)</li>
<li>Return on the loan <span class="math inline">\((R_i)\)</span></li>
</ul>
<p><span class="math display">\[R_i = AIS_i - E(L_i) = AIS_i - (EDF_i \times LGD_i)\]</span></p>
<ul>
<li><span class="math inline">\(AIS_i\)</span> is the all-in-spread is the risk premium earned on the loan</li>
<li>Risk of the loan <span class="math inline">\((\sigma_i)\)</span> based on binomial distribution</li>
</ul>
<p><span class="math display">\[\sigma_i = \sqrt{EDF_i(1-EDF_i)} \times LGD_i \]</span></p>
</section>
<section id="moodys-analytics-riskfrontier-model-1" class="slide level2">
<h2>Moody’s Analytics RiskFrontier Model</h2>
<ul>
<li>Correlation <span class="math inline">\((\rho_{ij})\)</span> between two loans is based on
<ul>
<li>Firm specific factors (idiosyncratic)</li>
<li>Systematic factors
<ul>
<li>Global economic risk</li>
<li>Regional risk (Europe, North America, Japan, Southeast Asia and Australia/New Zealand)</li>
<li>Industrial sector risk (financials, mining, consumer nondurables, consumer durables, technology, medical services, and other)</li>
</ul></li>
</ul></li>
<li>According to Moody’s default correlations tend to be low and lie between 0.002 and 0.15</li>
<li>The model can be used to measure portfolio risk, understand the source of risk exposures, manage risk concentrations, pricing of new loans and stress-testing</li>
</ul>
</section>
<section id="apra-standards-on-credit-risk" class="slide level2">
<h2>APRA standards on credit risk</h2>
<ul>
<li>APRA Prudential Standard: <a href="https://handbook.apra.gov.au/standard/aps-220">APS 220 Credit Risk Management</a></li>
<li>The credit risk management framework must, at a minimum, include:
<ul>
<li>A credit risk appetite statement;</li>
<li>A credit risk management strategy;</li>
<li>Policies and processes supporting clearly defined and documented roles, responsibilities and formal reporting structures for the management of credit risk;</li>
<li>A designated credit risk management function;</li>
<li>A management information system that is adequate, both under normal circumstances and in periods of stress, for measuring, assessing and reporting on credit risk; and</li>
<li>An independent review process to ensure that the credit risk management framework is effective in identifying, measuring, evaluating, monitoring, reporting, and controlling or mitigating credit risk.</li>
</ul></li>
<li>An ADI’s credit risk management strategy must describe the ADI’s willingness to accept credit risk based on exposure type, economic or industry sector, geographical location, currency and maturity</li>
</ul>
</section>
<section id="conclusion" class="slide level2">
<h2>Conclusion</h2>
<ul>
<li>Credit risk is an extremely important risk factors for banks to assess and monitor</li>
<li>There are a number of factors that influence the probability of default</li>
<li>The interest rate charged on loan should reflect the probability of default and the recovery rate</li>
<li>There are a number of models that can be used to measure credit risk</li>
<li>Diversification in lending portfolios is vital to diversify away borrower-specific credit risk</li>
</ul>
<p><br>
</p>
<ul>
<li>Next week: Liquidity Risk</li>
</ul>

</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="FIN331_Lecture4_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="FIN331_Lecture4_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="FIN331_Lecture4_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="FIN331_Lecture4_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="FIN331_Lecture4_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="FIN331_Lecture4_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="FIN331_Lecture4_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="FIN331_Lecture4_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="FIN331_Lecture4_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="FIN331_Lecture4_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="FIN331_Lecture4_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":false,"theme":"whiteboard","boardmarkerWidth":2,"transition":1,"src":"FIN331_chalkboard_L4.json"},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    

    <script>

      // htmlwidgets need to know to resize themselves when slides are shown/hidden.

      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current

      // slide changes (different for each slide format).

      (function () {

        // dispatch for htmlwidgets

        function fireSlideEnter() {

          const event = window.document.createEvent("Event");

          event.initEvent("slideenter", true, true);

          window.document.dispatchEvent(event);

        }

    

        function fireSlideChanged(previousSlide, currentSlide) {

          fireSlideEnter();

    

          // dispatch for shiny

          if (window.jQuery) {

            if (previousSlide) {

              window.jQuery(previousSlide).trigger("hidden");

            }

            if (currentSlide) {

              window.jQuery(currentSlide).trigger("shown");

            }

          }

        }

    

        // hookup for slidy

        if (window.w3c_slidy) {

          window.w3c_slidy.add_observer(function (slide_num) {

            // slide_num starts at position 1

            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);

          });

        }

    

      })();

    </script>

    

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>